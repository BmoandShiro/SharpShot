# SharpShot Development Environment
# This ensures consistent .NET version across different Windows PCs

FROM mcr.microsoft.com/dotnet/sdk:8.0

# Note: OBS Studio is mounted from Windows host, not bundled in container
# Docker is only used for building the .NET application

# Set working directory
WORKDIR /app

# Clear any existing NuGet configuration and cache
RUN dotnet nuget locals all --clear

# Copy project file first for better caching
COPY SharpShot.csproj ./

# Restore dependencies with clean cache
RUN dotnet restore --force --no-cache

# Copy all source code
COPY . ./

# Build the application
RUN dotnet build --configuration Release -p:Platform=x64

# Keep container running for development
CMD ["tail", "-f", "/dev/null"] 