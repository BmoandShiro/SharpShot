<Window x:Class="SharpShot.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SharpShot"
        Height="80" Width="500"
        Style="{StaticResource DarkWindowStyle}"
        WindowStartupLocation="Manual"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStyle="None"
        BorderThickness="0">
    
    <Window.Resources>
        <Style x:Key="IconButtonStyle" TargetType="Button" BasedOn="{StaticResource ToolbarButtonStyle}">
            <Setter Property="Width" Value="60"/>
            <Setter Property="Height" Value="50"/>
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="Foreground" Value="#FFFF8C00"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Padding" Value="8"/>
        </Style>
        
        <Style x:Key="RecordingButtonStyle" TargetType="Button" BasedOn="{StaticResource IconButtonStyle}">
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsRecording}" Value="True">
                    <Setter Property="Background" Value="#FFFF8C00"/>
                    <Setter Property="Foreground" Value="#FF000000"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#FFFF8C00" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        
        <!-- Custom Icon Paths -->
        <Geometry x:Key="RegionIcon">M0.5 0.5L27.5 0.5L27.5 22.5L0.5 22.5Z</Geometry>
        <Geometry x:Key="CameraIcon">M93.4686 0.5C98.832 0.500258 103.758 3.46157 106.274 8.19824L114.402 23.5H142.001C146.695 23.5004 150.501 27.3058 150.501 32V100C150.501 104.694 146.695 108.5 142.001 108.5H9.04379C4.32914 108.5 0.515083 104.663 0.543785 99.9482L0.958824 31.9482C0.987326 27.2743 4.78385 23.5002 9.45785 23.5H34.578L42.1659 8.4668C44.6317 3.58148 49.6378 0.5 55.1102 0.5H93.4686ZM55.1102 3.5C50.77 3.5 46.7993 5.94383 44.8436 9.81836L37.0008 25.3564V26.5H9.45785C6.43356 26.5002 3.97727 28.9425 3.95882 31.9668L3.54379 99.9668C3.52537 103.017 5.99323 105.5 9.04379 105.5H142.001C145.038 105.5 147.501 103.037 147.501 100V32C147.501 28.9627 145.038 26.5004 142.001 26.5H112.001V25.373L103.625 9.60547C101.629 5.84884 97.7223 3.50026 93.4686 3.5H55.1102ZM74.9998 34C92.1207 34 106 47.4315 106 64C106 80.5685 92.1207 94 74.9998 94C57.8791 93.9999 43.9998 80.5685 43.9998 64C43.9998 47.4315 57.8791 34.0001 74.9998 34ZM74.9998 37C59.4425 37.0001 46.9998 49.1803 46.9998 64C46.9998 78.8197 59.4425 90.9999 74.9998 91C90.5573 91 103 78.8197 103 64C103 49.1803 90.5573 37 74.9998 37Z</Geometry>
        <Geometry x:Key="VideoIcon">M95.4121 0.0107422C99.6389 0.225231 103 3.71994 103 8V24.5615C103.622 24.0632 104.325 23.6536 105.093 23.3545L105.392 23.2441L127.392 15.6582C132.587 13.8668 138 17.7256 138 23.2207V76.2217L137.996 76.4854C137.825 81.9032 132.397 85.5891 127.298 83.751L127.051 83.6582L105.051 74.9336C104.298 74.6352 103.61 74.2302 103 73.7412V88C103 92.2801 99.6389 95.7748 95.4121 95.9893L95 96H8C3.71994 96 0.225231 92.6389 0.0107422 88.4121L0 88V8C0 3.58172 3.58172 4.0266e-08 8 0H95L95.4121 0.0107422ZM8 3C5.23858 3 3 5.23858 3 8V88C3 90.7614 5.23858 93 8 93H95C97.7614 93 100 90.7614 100 88V8C100 5.23858 97.7614 3 95 3H8ZM135 23.2207C135 19.7863 131.617 17.3746 128.37 18.4941L106.37 26.0801C104.354 26.7754 103 28.6736 103 30.8066V67.4971C103 69.547 104.252 71.3898 106.157 72.1455L128.157 80.8691C131.439 82.1705 135 79.7525 135 76.2217V23.2207Z</Geometry>
        <Geometry x:Key="SettingsIcon">M12.9057 13.846C14.6876 13.846 16.1321 12.6062 16.1321 11.0768C16.1321 9.54735 14.6876 8.30753 12.9057 8.30753C11.1238 8.30753 9.67924 9.54735 9.67924 11.0768C9.67924 12.6062 11.1238 13.846 12.9057 13.846ZM20.8641 13.846C20.721 14.1244 20.6783 14.4332 20.7415 14.7327C20.8048 15.0321 20.9711 15.3084 21.2191 15.526L21.2836 15.5814C21.4836 15.7528 21.6422 15.9564 21.7505 16.1806C21.8587 16.4047 21.9144 16.6449 21.9144 16.8875C21.9144 17.1301 21.8587 17.3704 21.7505 17.5945C21.6422 17.8186 21.4836 18.0222 21.2836 18.1937C21.0838 18.3653 20.8466 18.5015 20.5855 18.5944C20.3244 18.6873 20.0445 18.7351 19.7618 18.7351C19.4791 18.7351 19.1992 18.6873 18.9381 18.5944C18.677 18.5015 18.4398 18.3653 18.24 18.1937L18.1755 18.1383C17.922 17.9255 17.6001 17.7827 17.2512 17.7284C16.9023 17.6741 16.5425 17.7108 16.2181 17.8337C15.9 17.9507 15.6287 18.145 15.4377 18.3926C15.2466 18.6403 15.144 18.9305 15.1426 19.2275V19.3844C15.1426 19.8741 14.916 20.3437 14.5126 20.6899C14.1093 21.0361 13.5622 21.2306 12.9917 21.2306C12.4212 21.2306 11.8741 21.0361 11.4708 20.6899C11.0674 20.3437 10.8408 19.8741 10.8408 19.3844V19.3014C10.8324 18.9958 10.7172 18.6995 10.5101 18.4509C10.3029 18.2024 10.0134 18.013 9.67924 17.9075C9.35486 17.7846 8.99504 17.748 8.64616 17.8023C8.29728 17.8566 7.97535 17.9993 7.72189 18.2121L7.65736 18.2675C7.45759 18.4392 7.22037 18.5753 6.95925 18.6682C6.69813 18.7612 6.41823 18.809 6.13556 18.809C5.8529 18.809 5.573 18.7612 5.31188 18.6682C5.05076 18.5753 4.81354 18.4392 4.61377 18.2675C4.41378 18.0961 4.25513 17.8925 4.14689 17.6683C4.03864 17.4442 3.98293 17.204 3.98293 16.9614C3.98293 16.7188 4.03864 16.4785 4.14689 16.2544C4.25513 16.0303 4.41378 15.8267 4.61377 15.6552L4.6783 15.5998C4.92624 15.3823 5.09256 15.106 5.15581 14.8065C5.21907 14.5071 5.17637 14.1982 5.03321 13.9198C4.89688 13.6468 4.67051 13.414 4.38197 13.25C4.09343 13.086 3.75532 12.9979 3.40924 12.9968H3.22641C2.65595 12.9968 2.10885 12.8022 1.70547 12.456C1.30209 12.1098 1.07547 11.6402 1.07547 11.1506C1.07547 10.661 1.30209 10.1914 1.70547 9.84517C2.10885 9.49895 2.65595 9.30445 3.22641 9.30445H3.32321C3.67918 9.2973 4.02442 9.1984 4.31404 9.02061C4.60366 8.84282 4.82426 8.59436 4.94717 8.30753C5.09033 8.02911 5.13304 7.72027 5.06978 7.42083C5.00652 7.12139 4.8402 6.84508 4.59226 6.62753L4.52773 6.57214C4.32775 6.40068 4.1691 6.19707 4.06085 5.97295C3.95261 5.74884 3.89689 5.5086 3.89689 5.26599C3.89689 5.02337 3.95261 4.78314 4.06085 4.55902C4.1691 4.3349 4.32775 4.13129 4.52773 3.95983C4.7275 3.78819 4.96472 3.65202 5.22584 3.55911C5.48696 3.4662 5.76686 3.41838 6.04953 3.41838C6.33219 3.41838 6.61209 3.4662 6.87321 3.55911C7.13433 3.65202 7.37155 3.78819 7.57132 3.95983L7.63585 4.01522C7.88931 4.22802 8.21124 4.37078 8.56012 4.42507C8.909 4.47936 9.26883 4.44271 9.59321 4.31983H9.67924C9.99734 4.20282 10.2686 4.00853 10.4597 3.76088C10.6508 3.51323 10.7533 3.22302 10.7547 2.92599V2.76907C10.7547 2.27944 10.9813 1.80986 11.3847 1.46364C11.7881 1.11742 12.3352 0.922913 12.9057 0.922913C13.4761 0.922913 14.0232 1.11742 14.4266 1.46364C14.83 1.80986 15.0566 2.27944 15.0566 2.76907V2.85214C15.058 3.14918 15.1605 3.43938 15.3516 3.68703C15.5427 3.93469 15.814 4.12898 16.1321 4.24599C16.4565 4.36886 16.8163 4.40552 17.1652 4.35122C17.514 4.29693 17.836 4.15418 18.0894 3.94137L18.154 3.88599C18.3537 3.71434 18.591 3.57817 18.8521 3.48526C19.1132 3.39236 19.3931 3.34454 19.6758 3.34454C19.9584 3.34454 20.2383 3.39236 20.4994 3.48526C20.7606 3.57817 20.9978 3.71434 21.1975 3.88599C21.3975 4.05745 21.5562 4.26106 21.6644 4.48518C21.7727 4.70929 21.8284 4.94953 21.8284 5.19214C21.8284 5.43476 21.7727 5.67499 21.6644 5.89911C21.5562 6.12323 21.3975 6.32684 21.1975 6.4983L21.133 6.55368C20.8851 6.77123 20.7188 7.04754 20.6555 7.34698C20.5922 7.64642 20.635 7.95526 20.7781 8.23368V8.30753C20.9144 8.58054 21.1408 8.81339 21.4293 8.9774C21.7179 9.1414 22.056 9.22942 22.4021 9.2306H22.5849C23.1554 9.2306 23.7025 9.42511 24.1059 9.77133C24.5092 10.1175 24.7358 10.5871 24.7358 11.0768C24.7358 11.5664 24.5092 12.036 24.1059 12.3822C23.7025 12.7284 23.1554 12.9229 22.5849 12.9229H22.4881C22.142 12.9241 21.8039 13.0121 21.5154 13.1761C21.2268 13.3401 21.0005 13.573 20.8641 13.846Z</Geometry>
        <Geometry x:Key="FullScreenRecordIcon">M4 4H60V60H4V4ZM8 8H56V56H8V8ZM32 24C36.4183 24 40 27.5817 40 32C40 36.4183 36.4183 40 32 40C27.5817 40 24 36.4183 24 32C24 27.5817 27.5817 24 32 24Z</Geometry>
    </Window.Resources>

    <Border Background="#802A2A2A" 
            CornerRadius="20" 
            BorderBrush="Transparent" 
            BorderThickness="0"
            ClipToBounds="True"
            Margin="0"
            Effect="{x:Null}">
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Main Toolbar -->
            <StackPanel x:Name="MainToolbarStackPanel"
                        Grid.Row="0" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Center"
                        Margin="10">
                
                <!-- Region Selection Button -->
                <Button x:Name="RegionButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="RegionButton_Click"
                        ToolTip="Select Region (Double Ctrl)"
                        Width="70" Height="50"
                        VerticalAlignment="Center">
                    <Path Data="{StaticResource RegionIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          StrokeDashArray="5,3"
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="28" Height="23"/>
                </Button>

                <!-- Full Screen Screenshot Button -->
                <Button x:Name="ScreenshotButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="ScreenshotButton_Click"
                        ToolTip="Full Screen Screenshot (Ctrl+Shift+S)"
                        VerticalAlignment="Center">
                    <Path Data="{StaticResource CameraIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="32" Height="32"/>
                </Button>

                <!-- Separator -->
                <Rectangle x:Name="MainToolbarSeparator1"
                           Width="1" 
                           Height="25" 
                           Fill="#FFFF8C00" 
                           Margin="8,0"
                           VerticalAlignment="Center"/>

                <!-- Recording Button -->
                <Button x:Name="RecordingButton" 
                        Style="{StaticResource RecordingButtonStyle}"
                        Click="RecordingButton_Click"
                        ToolTip="Toggle Recording (Ctrl+Shift+R)"
                        VerticalAlignment="Center">
                    <Path Data="{StaticResource VideoIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="28" Height="28"/>
                </Button>

                <!-- Separator -->
                <Rectangle x:Name="MainToolbarSeparator2"
                           Width="1" 
                           Height="25" 
                           Fill="#FFFF8C00" 
                           Margin="8,0"
                           VerticalAlignment="Center"/>

                <!-- Settings Button -->
                <Button x:Name="SettingsButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="SettingsButton_Click"
                        ToolTip="Settings"
                        VerticalAlignment="Center">
                    <Path Data="{StaticResource SettingsIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="28" Height="28"/>
                </Button>

                <!-- Close Button -->
                <Button x:Name="CloseButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="CloseButton_Click"
                        ToolTip="Close SharpShot"
                        VerticalAlignment="Center">
                    <Path Data="M1 1L11 11M11 1L1 11" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="2" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="20" Height="20"/>
                </Button>

                <!-- Copy Button (Hidden by default) -->
                <Button x:Name="CopyButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="CopyButton_Click"
                        ToolTip="Copy to Clipboard"
                        Visibility="Collapsed">
                    <Path Data="M117 44C123.627 44 129 49.3726 129 56V116C129 122.524 123.794 127.832 117.31 127.996L117 128H56L55.6904 127.996C49.309 127.835 44.1655 122.691 44.0039 116.31L44 116V56C44 49.3726 49.3726 44 56 44H117ZM56 47C51.0294 47 47 51.0294 47 56V116C47 120.971 51.0294 125 56 125H117C121.971 125 126 120.971 126 116V56C126 51.0294 121.971 47 117 47H56ZM75 0.5C82.4558 0.5 88.5 6.54416 88.5 14V42.4404H85.5V14C85.5 8.20101 80.799 3.5 75 3.5H14C8.20101 3.5 3.5 8.20101 3.5 14V75C3.5 80.799 8.20101 85.5 14 85.5H41.5V88.5H14C6.54416 88.5 0.5 82.4558 0.5 75V14C0.5 6.54416 6.54416 0.500001 14 0.5H75Z" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="20" Height="20"/>
                </Button>

                <!-- Save Button (Hidden by default) -->
                <Button x:Name="SaveButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="SaveButton_Click"
                        ToolTip="Save File"
                        Visibility="Collapsed">
                    <Path Data="M20.5996 9.5C20.8756 9.50013 21.0996 9.72394 21.0996 10V15C21.0996 15.8283 20.4279 16.4999 19.5996 16.5H1.59961C0.771182 16.5 0.0996094 15.8284 0.0996094 15V10C0.0996094 9.72386 0.323467 9.5 0.599609 9.5C0.87564 9.50013 1.09961 9.72394 1.09961 10V15C1.09961 15.2761 1.32347 15.5 1.59961 15.5H19.5996C19.8756 15.4999 20.0996 15.2761 20.0996 15V10C20.0996 9.72386 20.3235 9.5 20.5996 9.5ZM11.0615 11.5928L13.3896 9.26465C13.5849 9.06983 13.9015 9.06963 14.0967 9.26465C14.2918 9.45978 14.2916 9.77639 14.0967 9.97168L10.915 13.1533C10.7198 13.3486 10.4033 13.3486 10.208 13.1533L7.02637 9.97168C6.8312 9.77641 6.83114 9.45988 7.02637 9.26465C7.22163 9.0698 7.53826 9.06961 7.7334 9.26465L10.0615 11.5928V0.799805H11.0615V11.5928Z" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="20" Height="20"/>
                </Button>

                <!-- Separator -->
                <Rectangle x:Name="CaptureCompletionSeparator1"
                           Width="1" 
                           Height="25" 
                           Fill="#FFFF8C00" 
                           Margin="8,0"
                           VerticalAlignment="Center"
                           Visibility="Collapsed"/>

                <!-- Cancel Button (Hidden by default) -->
                <Button x:Name="CancelButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="CancelButton_Click"
                        ToolTip="Cancel"
                        Visibility="Collapsed"
                        Margin="8,0,0,0">
                    <Path Data="M1 1L11 11M11 1L1 11" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="2" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="20" Height="20"/>
                </Button>

                <!-- Region Recording Button (Hidden by default) -->
                <Button x:Name="RegionRecordButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="RegionRecordButton_Click"
                        ToolTip="Record Selected Region"
                        Visibility="Collapsed">
                    <Path Data="{StaticResource RegionIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          StrokeDashArray="5,3"
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="28" Height="23"/>
                </Button>

                <!-- Full Screen Recording Button (Hidden by default) -->
                <Button x:Name="FullScreenRecordButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="FullScreenRecordButton_Click"
                        ToolTip="Record Full Screen"
                        Visibility="Collapsed">
                    <Path Data="{StaticResource FullScreenRecordIcon}" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="1.5" 
                          Fill="Transparent"
                          Stretch="Uniform"
                           Width="28" Height="28"/>
                </Button>

                <!-- Separator -->
                <Rectangle x:Name="RecordingSelectionSeparator2"
                           Width="1" 
                           Height="25" 
                           Fill="#FFFF8C00" 
                           Margin="8,0"
                           VerticalAlignment="Center"
                           Visibility="Collapsed"/>

                <!-- Cancel Recording Button (Hidden by default) -->
                <Button x:Name="CancelRecordButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="CancelRecordButton_Click"
                        ToolTip="Cancel Recording"
                        Visibility="Collapsed">
                    <Path Data="M1 1L11 11M11 1L1 11" 
                          Stroke="#FFFF8C00" 
                          StrokeThickness="2" 
                          Fill="Transparent"
                          Stretch="Uniform"
                          Width="20" Height="20"/>
                </Button>

                <!-- Stop Recording Button (Hidden by default) -->
                <Button x:Name="StopRecordButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="StopRecordButton_Click"
                        ToolTip="Stop Recording"
                        Visibility="Collapsed">
                    ⏹️
                </Button>

                <!-- Pause Recording Button (Hidden by default) -->
                <Button x:Name="PauseRecordButton" 
                        Style="{StaticResource IconButtonStyle}"
                        Click="PauseRecordButton_Click"
                        ToolTip="Pause Recording"
                        Visibility="Collapsed">
                    ⏸
                </Button>
            </StackPanel>

            <!-- Recording Timer -->
            <TextBlock x:Name="RecordingTimer" 
                       Grid.Row="1"
                       Text="00:00"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Foreground="{StaticResource AccentBrush}"
                       FontSize="12"
                       FontWeight="Bold"
                       Visibility="Collapsed"
                       Margin="0,0,0,5"/>
        </Grid>
    </Border>
</Window> 